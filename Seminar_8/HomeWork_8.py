
from HomeWork_8 import json

data = {
    'name': 'Вадим',
    'age': 38,
    'city': 'Москва'
}

json_str = json.dumps(data)
print(json_str)

# Разбор JSON-строки
json_data = '{"name": "Вадим", "age": 38, "city": "Москва"}'
parsed_data = json.loads(json_data)

print(parsed_data['name'])  # Вадим
print(parsed_data['age'])   # 38
print(parsed_data['city'])  # Москва

# Открываем файл с данными
with open("data_first_variant.csv", "a", encoding="utf-8") as file:
    data = json.load(file)

def save_data():
    # Сохраняем данные обратно в файл
    with open('"data_first_variant.csv", "a", encoding="utf-8"') as file:
        json.dump(data, file)

def добавить_контакт():
    # Запросим у пользователя информацию о новом контакте
    имя = input("Введите имя: ")
    фамилия = input("Введите фамилию: ")
    номер = input("Введите номер телефона: ")

    # Создадим новый словарь с информацией о контакте
    новый_контакт = {
        'имя': имя,
        'фамилия': фамилия,
        'номер': номер
    }

    # Добавим новый контакт в список данных
    data.append(новый_контакт)

    # Сохраняем данные
    save_data()

def изменить_контакт():
    # Запросим у пользователя информацию о контакте, который нужно изменить
    имя_или_фамилия = input("Введите имя или фамилию контакта для изменения: ")

    # Найдём контакт с введенным именем или фамилией
    найденные_контакты = [контакт for контакт in data if контакт['имя'] == имя_или_фамилия or контакт['фамилия'] == имя_или_фамилия]

    if len(найденные_контакты) == 0:
        print("Контакт не найден.")
        return
     
    # Выведем найденные контакты для выбора
    for i, контакт in enumerate(найденные_контакты):
        print(f"Контакт {i + 1}:")
        print(f"Имя: {контакт['имя']}")
        print(f"Фамилия: {контакт['фамилия']}")
        print(f"Номер: {контакт['номер']}")
        print()
     
    # Запросим у пользователя выбрать номер контакта для изменения
    выбранный_контакт = int(input("Введите номер контакта для изменения: ")) - 1

    # Запросим новые данные для контакта
    новое_имя = input("Введите новое имя: ")
    новая_фамилия = input("Введите новую фамилию: ")
    новый_номер = input("Введите новый номер телефона: ")

    # Обновим данные контакта
    контакт = найденные_контакты[выбранный_контакт]
    контакт['имя'] = новое_имя
    контакт['фамилия'] = новая_фамилия
    контакт['номер'] = новый_номер

    # Сохраняем данные
    save_data()
    print("Контакт успешно изменен.")

def удалить_контакт():
    # Запросим у пользователя информацию о контакте, который нужно удалить
    имя_или_фамилия = input("Введите имя или фамилию контакта для удаления: ")

    # Найдём контакт(-ы) с введенным именем или фамилией
    найденные_контакты = [контакт for контакт in data if контакт['имя'] == имя_или_фамилия or контакт['фамилия'] == имя_или_фамилия]

    if len(найденные_контакты) == 0:
        print("Контакт не найден.")
        return
     
    # Выведем найденные контакты для выбора
    for i, контакт in enumerate(найденные_контакты):
        print(f"Контакт {i + 1}:")
        print(f"Имя: {контакт['имя']}")
        print(f"Фамилия: {контакт['фамилия']}")
        print(f"Номер: {контакт['номер']}")
        print()
     
    # Запросим у пользователя выбрать номер контакта для удаления
    выбранный_контакт = int(input("Введите номер контакта для удаления: ")) - 1

    # Удаляем контакт из списка данных
    контакт = найденные_контакты[выбранный_контакт]
    data.remove(контакт)

    # Сохраняем данные
    save_data()
    print("Контакт успешно удален.")

# Пример использования функций:
добавить_контакт()            # Добавление нового контакта в справочник
изменить_контакт()           # Изменение существующего контакта
удалить_контакт()            # Удаление контакта по имени или фамилии